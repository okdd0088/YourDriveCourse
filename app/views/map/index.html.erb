<div id="map" class="map">
</div>

<style type="text/css">
  .map {
    height: 500px;
    width:100%;
  }
  
  .results {
    background-color: white;
    opacity: 0.8;
    position: absolute;
    top: 12px;
    right: 12px;
    width: 320px;
    height: 480px;
    overflow-y: scroll;
  }
</style>

<script type="text/javascript">
  var map = L.map('map');

  // L.Icon.Default.imagePath = (function () {
  //   var scripts = document.getElementsByTagName('script'),
  //       leafletRe = /[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;
  
  //   var i, len, src, matches, path;
  
  //   for (i = 0, len = scripts.length; i < len; i++) {
  //     src = scripts[i].src;
  //     matches = src.match(leafletRe);
  
  //     if (matches) {
  //       path = src.split(leafletRe)[0];
  //       return '/' + 'images/leaflet';   /*  ピン画像へのパス  */
  //     }
  //   }
  // }());
  
  let DefaultIcon = L.icon({
    iconUrl: "packs/media/images/marker-icon-2b3e1faf.png",
    iconRetinaUrl: "packs/media/images/marker-icon-2x-680f69f3c2e6b90c1812a813edf67fd7.png",
    shadowUrl: "packs/media/images/marker-shadow-a0c6cc1401c107b501efee6477816891.png",
    iconSize: [25, 41],
    iconAnchor: [12, 41],
    popupAnchor: [1, -34],
    tooltipAnchor: [16, -28],
    shadowSize: [41, 41]
  });
  L.Marker.prototype.options.icon = DefaultIcon;
  
  
  //ここからはチュートリアル通り
  L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);
  
  var control = L.Routing.control({
  
    createMarker: function(i, wp) {
      var options = {
          draggable: this.draggableWaypoints
        },
        marker = L.marker(wp.latLng, options);
  
      return marker;
    },
    waypoints: [
      L.latLng(35.46222222, 139.62444444),
      L.latLng(35.681298, 139.766247)
    ],
    geocoder: L.Control.Geocoder.nominatim(),
      routeWhileDragging: true,
      reverseWaypoints: true,
      showAlternatives: true,
      altLineOptions: {
          styles: [
              {color: 'black', opacity: 0.15, weight: 9},
              {color: 'white', opacity: 0.8, weight: 6},
              {color: 'blue', opacity: 0.5, weight: 2}
          ]
      }
  }).addTo(map);
  
  L.Routing.errorControl(control).addTo(map);
</script>
